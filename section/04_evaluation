\chapter{評価}
\label{chap:evaluation}
\section{実験概要}
4.1 実験概要
提案手法で提示した 3 種類の モンテカルロ法＋ほしきゅーアルゴリズムを１人麻雀に適用し、性能を評価した。それぞれに対して100局のテストデータと10,000 局のテストデータを与え、あがることができた局数を計測した。テストデータとは、全ての牌をランダムに並べたものを１００セット用意したデータである。このデータから 13 牌を初期牌として 与え, その後牌を引いて切る動作を 27 回行い, その中であ がれたかどうかを確認した。100 局のテストデータで人間 のプレイヤとの比較を行い, 10,000 局のテストデータで各 手法の性能の評価を行った。
プレイアウトを行う手法についてはプレイアウトの回数 は 1000 回とした. プレイアウト時には次に引く牌は分か らないため, まだ出現していない牌の中から無作為に選択 する. しかし, 捨てる牌については, シャンテン数を小さく する牌があればその中から, なければシャンテン数を変え ない牌から無作為に選択するようにした.
学習を行う手法については事前に 1,000,000 局の牌譜を 学習させた. 学習に用いた牌譜は, インターネット上の麻雀 サイトである天鳳 [7] の上位のプレイヤのみが対局したも のを用いた. ここでの上位のプレイヤは麻雀サイト天鳳 [7] において鳳凰卓でプレイすることができるプレイヤのことを指す. 鳳凰卓でプレイできるプレイヤは, 全プレイヤの 中でも 0.5\%程度である. また, 元々の牌譜は 4 人麻雀のも のであったため学習に適したものを抽出している. 4 人麻 雀は自分以外のプレイヤの動向, 点数などを考慮して最短 であがりを目指さなかったり, あがりを放棄したりするこ とがある. しかし 1 人麻雀では自分以外のプレイヤの要素 はなく, 最短でのあがりを目指すため, 4 人麻雀の牌譜をそ のまま学習に用いるのは不適切である. 麻雀ではあがりま であと 1 牌という状態でリーチと宣言することができる. 本実験では, 4 人の中で一番早くリーチを宣言したプレイ ヤは最短であがりを目指したプレイヤであるとして, この ようなプレイヤの牌譜のみを抽出し, 1,000,000 局分用意し た. 学習は牌譜と同じ牌を捨てるかに応じて報酬を与える ことで行った.
\section{１人麻雀プレイヤによる和了率の比較}
実験結果を表 1, 表 2 に示す. 表 1 より今回適用したい
ずれの手法も人間の平均プレイヤにも及んでいないという 結果となった. 表 2 を見ると UCB1 と近い結果が期待さ れた独立 LinUCB は UCB1 よりも悪い結果となっている. これは UCB1 と LinUCB の評価値計算において信頼度の 計算式が異なることが原因であると考えられる. 式 (1) よ り, UCB1 では信頼度の計算に対数を用いている. 一方で LinUCB では式 (2) より信頼度は線形で変化する. このた め LinUCB は UCB に比べて早く信頼度が小さくなる. 信 頼度が早く小さくなるので, UCB1 と比べて有望そうな手 を早く絞ってしまうことになり, 結果に差が生じたと考え られる. 表 2 では事前学習のみの結果が UCB1 にやや劣る 結果となった. しかし, 探索を行わず事前学習のみを用い る手法で探索を行う UCB1 と近い性能が出たということか ら, 不完全情報ゲームに対して事前学習がある程度有効で あるということが分かった. また, Plain LinUCB, 事前学
\section{４人麻雀における先行研究とのレートの比較} %麻雀サーバーとの対戦
本研究では１人麻雀における和了率の向上を目指すため、和了率の数理的評価とモンテカルロ法を適用する部分を限定する手法をとった。佐藤らは、１人麻雀における和了率を有効牌を